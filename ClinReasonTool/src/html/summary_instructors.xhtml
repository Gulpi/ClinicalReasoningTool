<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      >
<head>
<meta http-equiv="EXPIRES" content="0" />
<meta http-equiv="PRAGMA" content="NO-CACHE" />
<meta http-equiv="CACHE-CONTROL" content="NO-CACHE" />
 <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
 <script type="text/javascript" src="../scripts/jquery112/jquery.js"></script>
<script type="text/javascript" src="../scripts/jquery112/jquery-ui.min.js"></script>
<script type="text/javascript" src="../scripts/jquery112/jquery-ui.js"></script>
<script src="../scripts/d3.js"></script>
<script src="../scripts/d3utils.js"></script>

<link rel="stylesheet" type="text/css" href="../scripts/jquery112/ui-lightness/jquery-ui.css" /> 
<link rel="stylesheet" type="text/css" href="../scripts/draw2d/css/contextmenu.css"  />
<link rel="stylesheet" href="../styles/clinreason.css" />
<link rel="stylesheet" href="../styles/portfolio.css" />
<style>

.chart rect {
    fill: steelblue;
  }

  .axis path,
  .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
  }

  .axis text {
    font-size: 8px;
  }

  .chart .current {
    fill: green;
    cursor: pointer;
  }
</style>
<!--  <svg class="chart"></svg>-->
		<svg id="probchart" class="chart"></svg>
		<svg id="ddxchart" class="chart"></svg>
		<svg id="testchart" class="chart"></svg>
		<svg id="mngchart" class="chart"></svg>
		<svg id="probitemschart" class="chart"></svg>
		<svg id="ddxitemschart" class="chart"></svg>
		<svg id="overallchart" class="chart"></svg>
		
<script language="JavaScript">
var probpeerdata = [];

<ui:repeat value="#{crtContext.learningAnalytics.problemPeerStages}" var="scoreItemP">
probpeerdata.push({ label: "#{scoreItemP.stage}", value: #{scoreItemP.peerPercentage} });
</ui:repeat>

printBarChar(150, 250, probpeerdata,"probchart", "Problems");

var ddxdata = [];
<ui:repeat value="#{crtContext.learningAnalytics.DDXPeerStages}" var="scoreItem2">
ddxdata.push({ label: "#{scoreItem2.stage}", value: #{scoreItem2.peerPercentage} });
</ui:repeat>

printBarChar(150, 250, ddxdata, "ddxchart","Differentials");


var testdata = [];
<ui:repeat value="#{crtContext.learningAnalytics.testPeerStages}" var="scoreItem3">
testdata.push({ label: "#{scoreItem3.stage}", value: #{scoreItem3.peerPercentage} });
</ui:repeat>

printBarChar(150, 250, testdata, "testchart","Diagnostic steps");

var mngdata = [];
<ui:repeat value="#{crtContext.learningAnalytics.mngPeerStages}" var="scoreItem4">
mngdata.push({ label: "#{scoreItem4.stage}", value: #{scoreItem4.peerPercentage} });
</ui:repeat>

printBarChar(150, 250, mngdata, "mngchart","Management");

testPrint();



</script>
</head>
<body>
Peer Performance for VP prototype<br/>
<select class="f_select"><option value="-1">Select VP</option><option value="1212" selected="selected">Prototype</option> </select>
	<div id="chart-container">
		<!-- <svg id="probchart" class="chart"></svg><br/>
		<svg id="ddxchart" class="chart"></svg> -->
 	 </div>
 	 also possible: overall engagement, calculated difficulty of VP (based on data), summary statement scores (icnluding subscores), 
 	 
</body>
</html>