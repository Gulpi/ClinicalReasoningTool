<?xml version="1.0" encoding="UTF-8"?>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="EXPIRES" content="0" />
<meta http-equiv="PRAGMA" content="NO-CACHE" />
<meta http-equiv="CACHE-CONTROL" content="NO-CACHE" />
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
<script type="text/javascript" src="../../scripts/jquery112/jquery.js"></script>
<script type="text/javascript" src="../../scripts/jquery112/jquery-ui.min.js"></script>
<script type="text/javascript" src="../../scripts/jquery112/jquery-ui.js"></script>
  <link rel="stylesheet" href="jsPlumbToolkit-defaults.css" />

       <!--  <link rel="stylesheet" href="main.css">-->
        <link rel="stylesheet" href="jsPlumbToolkit-demo.css">
        <link rel="stylesheet" href="demo.css" />
<script src="jsPlumb.min.js"></script>


<script language="JavaScript">
//;(function () {

    jsPlumb.ready(function () {

        var instance = jsPlumb.getInstance({
            DragOptions: { cursor: 'pointer', zIndex: 2000 },
            PaintStyle: { strokeStyle: '#666' },
            EndpointHoverStyle: { fillStyle: "orange" },
            HoverPaintStyle: { strokeStyle: "orange" },
            EndpointStyle: { width: 25, height: 15, strokeStyle: '#666' },
            Endpoint: "Rectangle",
            Anchors: ["TopCenter", "TopCenter"],
            Container: "canvas"
        });

        // suspend drawing and initialise.
        instance.batch(function () {

            // bind to connection/connectionDetached events, and update the list of connections on screen.
            instance.bind("connection", function (info, originalEvent) {
                updateConnections(info.connection);
            });
            instance.bind("connectionDetached", function (info, originalEvent) {
                updateConnections(info.connection, true);
            });

            instance.bind("connectionMoved", function (info, originalEvent) {
                //  only remove here, because a 'connection' event is also fired.
                // in a future release of jsplumb this extra connection event will not
                // be fired.
                updateConnections(info.connection, true);
            });

            instance.bind("click", function (component, originalEvent) {
                alert("halloele!")
            });

            // configure some drop options for use by all endpoints.
            var exampleDropOptions = {
                tolerance: "touch",
                hoverClass: "dropHover",
                activeClass: "dragActive"
            };

            // the second example uses a Dot of radius 15 as the endpoint marker, is both a source and target,
            // and has scope 'exampleConnection2'.
            //
            var color2 = "#c2c2c2";
            var exampleEndpoint = {
                endpoint: ["Dot", { radius: 5 }],
                paintStyle: { fillStyle: color2 },
                isSource: true,
                scope: "green",
                connectorStyle: { strokeStyle: color2, lineWidth: 6 },
                connector: ["Bezier", { curviness: 15 } ],
                maxConnections: 3,
                isTarget: true,
                dropOptions: exampleDropOptions
            };


            var e1 = instance.addEndpoint("dragDropWindow1", { anchor: ["Right"] }, exampleEndpoint);
            // you can bind for a maxConnections callback using a standard bind call, but you can also supply 'onMaxConnections' in an Endpoint definition - see exampleEndpoint3 above.
           // e1.bind("maxConnections", maxConnectionsCallback);

            var e2 = instance.addEndpoint('dragDropWindow2', { anchor: ["Right"] }, exampleEndpoint);
           // e2.bind("maxConnections", maxConnectionsCallback);
           // instance.addEndpoint('dragDropWindow2', { anchor: "RightMiddle" }, exampleEndpoint2);

            var e3 = instance.addEndpoint("dragDropWindow3", { anchor: ["Left" ] }, exampleEndpoint);
            
            var e33 = instance.addEndpoint("dragDropWindow3", { anchor: ["Right" ] }, exampleEndpoint);
            
            var e4 = instance.addEndpoint("dragDropWindow4", { anchor: [0.5, 0, 1, 0] }, exampleEndpoint);
            instance.draggable(jsPlumb.getSelector(".drag-drop-demo .window"));

            instance.addGroup({
                el:container1,
                id:"one",
                constrain:true,
                droppable:false
            });
            instance.addToGroup("one", dragDropWindow1);
            instance.addToGroup("one", dragDropWindow2);
            
            instance.addGroup({
                el:container2,
                id:"two",
                constrain:true,
                droppable:false
            });
            instance.addToGroup("two", dragDropWindow3);
            instance.addToGroup("two", dragDropWindow4);
         
            // make .window divs draggable

            // add endpoint of type 3 using a selector.
           // instance.addEndpoint(jsPlumb.getSelector(".drag-drop-demo .window"), exampleEndpoint3);

           /* var hideLinks = jsPlumb.getSelector(".drag-drop-demo .hide");
            instance.on(hideLinks, "click", function (e) {
                instance.toggleVisible(this.getAttribute("rel"));
                jsPlumbUtil.consume(e);
            });

            var dragLinks = jsPlumb.getSelector(".drag-drop-demo .drag");
            instance.on(dragLinks, "click", function (e) {
                var s = instance.toggleDraggable(this.getAttribute("rel"));
                this.innerHTML = (s ? 'disable dragging' : 'enable dragging');
                jsPlumbUtil.consume(e);
            });

            var detachLinks = jsPlumb.getSelector(".drag-drop-demo .detach");
            instance.on(detachLinks, "click", function (e) {
                instance.detachAllConnections(this.getAttribute("rel"));
                jsPlumbUtil.consume(e);
            });

            instance.on(document.getElementById("clear"), "click", function (e) {
                instance.detachEveryConnection();
                showConnectionInfo("");
                jsPlumbUtil.consume(e);
            });*/
            
        });
        // collapse/expand group button
        instance.on(canvas, "click", ".node-collapse", function() {
            var g = this.parentNode.getAttribute("group"), collapsed = instance.hasClass(this.parentNode, "collapsed");

            instance[collapsed ? "removeClass" : "addClass"](this.parentNode, "collapsed");
            instance[collapsed ? "expandGroup" : "collapseGroup"](g);
        });
        $(".window").contextmenu(function() {
        	  alert( "Handler for .contextmenu() called." );
        });
        jsPlumb.fire("jsPlumbDemoLoaded", instance);

    });
//})();
</script>

</head>
    <body data-demo-id="draggableConnectors" data-library="dom">

        <div class="jtk-demo-main">
            <!-- demo -->
            <div class="jtk-demo-canvas canvas-wide drag-drop-demo jtk-surface jtk-surface-nopan" id="canvas">
 				 <div class="group-container" id="container1" group="one">
 				  <div class="title">Findings</div>
 				  <div class="node-collapse"></div>
                		<div class="window" id="dragDropWindow1">Cough
                			<span class="dropdown">x</i>
							 	<ul class="dropdown-content">Change to:<br/>
							 		<li><a href="">No cough</a></li> 	 	
							 	</ul>
							</span>
                		<br/><!-- ><a href="#" class="cmdLink hide" rel="dragDropWindow1">toggle connections</a><br/><a href="#" class="cmdLink drag" rel="dragDropWindow1">disable dragging</a><br/><a href="#" class="cmdLink detach" rel="dragDropWindow1">detach all</a>--></div>
                		<div class="window" id="dragDropWindow2" title="Fever">Fever<br/><br/></div>
                </div>
                <div class="group-container" id="container2" group="two">   
                 <div class="title">Differentials</div>            
                	<div class="window" id="dragDropWindow3">ECG<br/><br/></div>
                	<div class="window" id="dragDropWindow4">Asthma<br/><br/></div>
                </div>
                <!-- <div id="list"></div>-->
            </div>
			<!-- /demo -->
        </div>
    </body>
</html>